(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38c25dfb"],{5238:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=this,a=t.$createElement,i=t._self._c||a;return i("page-header-wrapper",[i("a-card",{attrs:{bordered:!1}},[i("div",{staticClass:"table-page-search-wrapper"},[i("a-form",{attrs:{layout:"inline"}},[i("a-row",{attrs:{gutter:8}},[i("a-col",{attrs:{xs:24,lg:8,xl:6,xxl:5}},[i("a-form-item",{attrs:{label:"快速搜索"}},[i("a-input",{attrs:{placeholder:"请输入姓名/公民身份号码"},on:{blur:t.searchClick},model:{value:t.query.selectValue,callback:function(e){t.$set(t.query,"selectValue",e)},expression:"query.selectValue"}})],1)],1),i("a-col",{attrs:{xs:24,lg:8,xl:7,xxl:5}},[i("a-form-item",{attrs:{label:"受理时间"}},[i("a-range-picker",{attrs:{"disabled-date":t.disabledDate},on:{change:t.dateChange},model:{value:t.query.date,callback:function(e){t.$set(t.query,"date",e)},expression:"query.date"}})],1)],1),i("a-col",{attrs:{xs:24,lg:8,xl:6,xxl:5}},[i("a-form-item",{staticClass:"ycl-label",attrs:{label:"状态"}},[i("a-select",{attrs:{placeholder:"请选择状态",allowClear:"","default-value":"0"},on:{change:t.searchClick},model:{value:t.query.state,callback:function(e){t.$set(t.query,"state",e)},expression:"query.state"}},t._l(t.consentLetterStateList,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.text))])})),1)],1)],1),i("a-col",{attrs:{xs:12,lg:12,xl:5,xxl:3}},[i("a-form-item",[i("a-button",{attrs:{type:"primary"},on:{click:t.searchClick}},[t._v("查询")]),i("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){e.query={},e.searchClick()}}},[t._v("重置")])],1),i("a-form-item",{staticClass:"ycl-label"},[i("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.newModal}},[t._v("新增")])],1)],1)],1)],1)],1),i("a-steps",{staticStyle:{margin:"20px 0"},attrs:{current:t._f("stepStateFilter")(t.formCheck.state?t.formCheck.state:"0")}},t._l(t.stepStateList,(function(e){return i("a-step",{key:e.current,attrs:{title:e.title}})})),1),i("a-table",{attrs:{customRow:t.customRow,columns:t.tableColumns,"data-source":t.tableDataList,pagination:t.pagination,rowClassName:function(t){return t.orderNo===e.formCheck.orderNo?"table-row-check":""}},on:{change:t.tableChange},scopedSlots:t._u([{key:"name",fn:function(e,a){return i("span",{},[t._v(t._s(a.surname+a.name))])}},{key:"professionalPost",fn:function(e){return i("span",{},[t._v(t._s(t._f("professionalPostFilter")(e)))])}},{key:"havePassport",fn:function(e,a){return i("span",{},[i("a-icon",{attrs:{type:t._f("passportFilter")(e)}})],1)}},{key:"state",fn:function(e){return i("span",{},[i("a-badge",{attrs:{color:t._f("consentLetterStateColorFilter")(e),text:t._f("consentLetterStateTextFilter")(e)}})],1)}},{key:"operate",fn:function(e,a){return i("span",{staticClass:"ycl-operate"},[i("a",{on:{click:function(e){return t.showModalClick(a)}}},[t._v("详细")]),a.state<t.consentLetterStateList.PRINTED.value?i("a",{on:{click:function(e){return t.printClick(a)}}},[t._v("打印")]):t._e(),a.state===t.consentLetterStateList.PRINTED.value?i("a",{on:{click:function(e){return t.electronicFileShowModal(a)}}},[t._v("电子档案采集")]):t._e(),a.state===t.consentLetterStateList.COLLECTED.value?i("a",{on:{click:function(e){return t.reportClick(a)}}},[t._v("上报")]):t._e()])}}])}),i("a-modal",{attrs:{visible:t.detailsStatusDialogVisible,title:"同意函详细信息",width:"1000px",destroyOnClose:"",centered:!0,footer:null},on:{cancel:t.handleCancel,ok:t.handleOk}},[i("a-card",{staticClass:"card"},[i("a-form-model",{ref:"ruleForm",attrs:{model:t.detailsForm,rules:t.formRules,"label-col":{span:8},"wrapper-col":{span:16}}},[i("a-row",{attrs:{gutter:16}},[i("a-col",{attrs:{span:12}},[i("a-form-model-item",{attrs:{label:"单据编号",prop:"orderNo"}},[i("a-input",{attrs:{disabled:"",placeholder:"系统自动生成"},model:{value:t.detailsForm.orderNo,callback:function(e){t.$set(t.detailsForm,"orderNo",e)},expression:"detailsForm.orderNo"}})],1),i("a-row",[i("a-col",{attrs:{span:12}},[i("a-form-model-item",{attrs:{"label-col":{span:16},"wrapper-col":{span:8},label:"姓",prop:"surname"}},[i("a-input",{attrs:{disabled:"",placeholder:"请输入姓"},model:{value:t.detailsForm.surname,callback:function(e){t.$set(t.detailsForm,"surname",e)},expression:"detailsForm.surname"}})],1)],1),i("a-col",{attrs:{span:8}},[i("a-form-model-item",{attrs:{"label-col":{span:8},"wrapper-col":{span:16},label:"名",prop:"name"}},[i("a-input",{attrs:{disabled:"",placeholder:"请输入名"},model:{value:t.detailsForm.name,callback:function(e){t.$set(t.detailsForm,"name",e)},expression:"detailsForm.name"}})],1)],1),i("a-col",{staticStyle:{display:"flex","margin-top":"4px","justify-content":"flex-end"},attrs:{span:4}},[i("a-button",{attrs:{disabled:t.disabled,type:"primary"},on:{click:function(){e.showpersonModal=!0}}},[t._v("...")])],1)],1),i("a-form-model-item",{attrs:{label:"公民身份号码",prop:"cardID"}},[i("a-input",{attrs:{disabled:"",placeholder:"请输入公民身份号码"},model:{value:t.detailsForm.cardID,callback:function(e){t.$set(t.detailsForm,"cardID",e)},expression:"detailsForm.cardID"}})],1),i("a-form-model-item",{attrs:{label:"本人手机号",prop:"myPhone"}},[i("a-input",{attrs:{disabled:"",placeholder:"请输入手机号"},model:{value:t.detailsForm.myPhone,callback:function(e){t.$set(t.detailsForm,"myPhone",e)},expression:"detailsForm.myPhone"}})],1),i("a-form-model-item",{attrs:{label:"性别",prop:"sex"}},[i("a-radio-group",{attrs:{disabled:""},model:{value:t.detailsForm.sex,callback:function(e){t.$set(t.detailsForm,"sex",e)},expression:"detailsForm.sex"}},[i("a-radio",{attrs:{value:"男"}},[t._v("男")]),i("a-radio",{attrs:{value:"女"}},[t._v("女")]),i("a-radio",{attrs:{value:"未知"}},[t._v("未知")])],1)],1),i("a-form-model-item",{attrs:{label:"工作单位",prop:"workUnit"}},[i("a-input",{attrs:{disabled:"",placeholder:"请输入工作单位"},model:{value:t.detailsForm.workUnit,callback:function(e){t.$set(t.detailsForm,"workUnit",e)},expression:"detailsForm.workUnit"}})],1),i("a-form-model-item",{attrs:{label:"单位职务",prop:"professionalPost"}},[i("a-select",{attrs:{allowClear:"",disabled:"","default-value":"0",placeholder:"请选择单位职务"},model:{value:t.detailsForm.professionalPost,callback:function(e){t.$set(t.detailsForm,"professionalPost",e)},expression:"detailsForm.professionalPost"}},t._l(t.jobList,(function(e){return i("a-select-option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),i("a-form-model-item",{attrs:{label:"人事部门联系人",prop:"contactPerson"}},[i("a-input",{attrs:{disabled:t.disabled,"max-length":30,placeholder:"请输入人事部门联系人"},model:{value:t.detailsForm.contactPerson,callback:function(e){t.$set(t.detailsForm,"contactPerson",e)},expression:"detailsForm.contactPerson"}})],1),i("a-form-model-item",{attrs:{label:"联系电话",prop:"contactPhone"}},[i("a-input",{attrs:{disabled:t.disabled,"max-length":13,placeholder:"请输入联系电话"},model:{value:t.detailsForm.contactPhone,callback:function(e){t.$set(t.detailsForm,"contactPhone",e)},expression:"detailsForm.contactPhone"}})],1)],1),i("a-col",{attrs:{span:12}},[i("a-form-model-item",{attrs:{label:"办理证件"}},[i("a-checkbox-group",{staticClass:"ycl-checkbox-group",attrs:{disabled:t.disabled,"default-value":t.defaultValue},on:{change:t.certificateCheckboxChange}},[i("div",[i("a-checkbox",{attrs:{value:"0"}},[t._v("普通护照")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ordinaryPassportShow,expression:"ordinaryPassportShow"}],staticStyle:{margin:"10px 0px 10px 20px"}},[i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("申请通行证：")]),i("a-select",{staticStyle:{flex:"1.8"},attrs:{disabled:t.disabled,"default-value":t._f("passOptions")(t.form.passOption),placeholder:"请选择通行证类型"},on:{change:t.handleChangeOrdinaryPassport}},t._l(t.passOptions,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)])],1),i("div",[i("a-checkbox",{attrs:{value:"1"}},[t._v("往来港澳通行证及签注")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.HKShow,expression:"HKShow"}]},[i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("申请通行证：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{disabled:t.disabled,"default-value":t._f("passOptions")(t.form.hkOption),placeholder:"请选择通行证类型"},on:{change:t.handleChangeHK}},t._l(t.passOptions,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("a-checkbox-group",{staticStyle:{display:"flex"},attrs:{disabled:t.disabled,"default-value":t.HKDefaultValue},on:{change:t.handleChangeEndorsement}},[i("p",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("申请签注：")]),i("a-checkbox",{staticStyle:{flex:"1.8"},attrs:{value:"0"}})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.HKEndorsementShow,expression:"HKEndorsementShow"}]},[i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("div",{staticStyle:{display:"flex"}},[i("p",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("签注种类：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("endorsementOptions")(t.form.hkType),disabled:t.disabled,placeholder:"请选择签注种类"},on:{change:t.handleChangeHKEndorsement}},t._l(t.endorsementOptions,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("div",{staticStyle:{display:"flex",margin:"10px 0px"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("往来香港签注：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("timeOptions")(t.form.hkTime),disabled:t.disabled,placeholder:"请选择签注时间"},on:{change:t.handleChangeHKTime}},t._l(t.endorsementOptions[t.KEndorsementIndex].HKTimeOption,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),i("div",{staticStyle:{display:"flex",margin:"10px 0px"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("往来澳门签注：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("timeOptions")(t.form.macaoTime),disabled:t.disabled,placeholder:"请选择签注时间"},on:{change:t.handleChangeMacaoTime}},t._l(t.endorsementOptions[t.KEndorsementIndex].MacaoOption,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)])])])],1),i("div",[i("a-checkbox",{attrs:{value:"2"}},[t._v("往来台湾通行证及签注")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.TaiwanShow,expression:"TaiwanShow"}]},[i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("div",{staticStyle:{display:"flex"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("申请通行证：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("passOptions")(t.form.taiwanOption),disabled:t.disabled,placeholder:"请选择通行证类型"},on:{change:t.handleChangeTaiwan}},t._l(t.passOptions,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)]),i("div",{staticStyle:{margin:"10px 0px 10px 20px"}},[i("a-checkbox-group",{staticStyle:{display:"flex"},attrs:{disabled:t.disabled,"default-value":t.TaiwanDefaultValue},on:{change:t.handleChangeTaiwanEndorsement}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("申请签注：")]),i("a-checkbox",{staticStyle:{flex:"1.8"},attrs:{value:"0"}})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.TaiwanEndorsementShow,expression:"TaiwanEndorsementShow"}]},[i("div",{staticStyle:{margin:"10px 0px 10px 20px",display:"flex"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("签注种类：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("TaiwanEndorsementOptions")(t.form.taiwanType),disabled:t.disabled,placeholder:"请选择签注种类"},on:{change:t.handleChangeTaiwanOption}},t._l(t.TaiwanEndorsementOptions,(function(e,a){return i("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.TaiwanTimeShow,expression:"TaiwanTimeShow"}],staticStyle:{margin:"10px 0px 10px 20px",display:"flex"}},[i("span",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"flex-end"}},[t._v("签注时间：")]),i("a-select",{staticStyle:{width:"150px",flex:"1.8"},attrs:{"default-value":t._f("timeOptions")(t.form.taiwanEndorsementTime),disabled:t.disabled,placeholder:"请选择签注时间"},on:{change:t.handleChangeTaiwanTime}},[i("a-select-option",{attrs:{value:7}},[t._v("6个月一次")]),i("a-select-option",{attrs:{value:6}},[t._v("多次有效")])],1)],1)])])],1)])],1)],1)],1)],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[t.disabled?t._e():i("a-button",{attrs:{type:"primary",loading:t.detailsLoading},on:{click:t.saveClick}},[t._v("保存")]),""!==t.detailsForm.state&&t.detailsForm.state<t.consentLetterStateList.SUBMITTED.value?i("a-button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.detailsLoading},on:{click:t.printClick}},[t._v("打印")]):t._e(),t.detailsForm.state===t.consentLetterStateList.COLLECTED.value?i("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.electronicFileShowModal(t.detailsForm)}}},[t._v("电子档案采集")]):t._e(),t.detailsForm.state===t.consentLetterStateList["ADD"].value||t.detailsForm.state===t.consentLetterStateList["EDITED"].value||t.detailsForm.state===t.consentLetterStateList["PRINTED"].value||t.detailsForm.state===t.consentLetterStateList["COLLECTED"].value?i("a-popconfirm",{attrs:{title:"你真的要作废吗"},on:{confirm:t.deleteClick}},[i("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"close-circle"},slot:"icon"}),i("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"danger",loading:t.detailsLoading}},[t._v("作废")])],1):t._e(),i("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.handleClose}},[t._v("关闭")])],1)],1)],1)],1),i("personModal",{attrs:{showmodal:t.showpersonModal},on:{handleOk:t.personhandleOk,cancel:t.personcancel}}),i("ConsentLetter",{attrs:{printData:t.printData,reload:t.searchClick}}),i("errorDetailsModal",{attrs:{errorTableDataList:t.errorTableDataList,visible:t.errorDetailsDialogVisible},on:{cancel:function(){e.errorDetailsDialogVisible=!1}}}),i("a-modal",{attrs:{visible:t.electronicFileStatusDialogVisible,title:"同意函详细信息",width:"1200px",destroyOnClose:"",centered:!0,footer:null},on:{cancel:t.electronicFileCloseModal,ok:t.electronicFileHandleOk}},[i("a-card",{staticClass:"card"},[i("a-row",{attrs:{gutter:16}},[i("a-col",{attrs:{span:12}},[i("a-alert",{staticStyle:{margin:"0 0 20px"},attrs:{message:"编号："+t.electronicFileForm.orderNo+"  姓名："+(t.electronicFileForm.surname+t.electronicFileForm.name)+" "+t.electronicFileForm.cardID,type:"info","show-icon":""}}),i("a-descriptions",{attrs:{layout:"vertical",bordered:""}},[i("a-descriptions-item",{attrs:{label:"工作单位"}},[t._v(t._s(t.electronicFileForm.workUnit))]),i("a-descriptions-item",{attrs:{label:"职务/职级"}},[t._v(t._s(t._f("professionalPostFilter")(t.electronicFileForm.professionalPost)))])],1)],1),i("a-col",{staticStyle:{height:"100%"},attrs:{span:12}},[i("div",[i("a-alert",{staticStyle:{margin:"0 0 20px"},attrs:{message:"电子档案信息",type:"info","show-icon":""}}),i("a-upload",{staticClass:"avatar-uploader",staticStyle:{display:"flex","justify-content":"center"},attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":t.electronicFileBeforeUpload,accept:".pdf"},on:{change:t.electronicFileHandleChange,customRequest:function(){}}},[i("a-button",{class:t.electronicFileForm.image?"Upload_have":"Upload",attrs:{type:t.electronicFileLoading?"loading":"plus",icon:"cloud-upload"}},[t._v(t._s(t.electronicFileForm.image?"重新上传":"上传"))])],1),t.electronicFileForm.image?i("embed",{attrs:{src:t.electronicFileForm.image,width:"500px",height:"500"}}):t._e()],1)])],1)],1),i("h3",{staticStyle:{color:"red","font-weight":"bolder"}},[t._v("重要提示：请确保上传的电子档案信息与审批单信息的一致性，否则会导致审批失败！")]),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("a-button",{attrs:{type:"primary"},on:{click:t.electronicFileSaveClick}},[t._v("保存")]),i("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.electronicFileCloseModal}},[t._v("关闭")])],1)],1)],1)},n=[],s=(a("99af"),a("a623"),a("4de4"),a("7db0"),a("c740"),a("4160"),a("caad"),a("a15b"),a("baa5"),a("d81d"),a("fb6a"),a("45fc"),a("b0c0"),a("d3b7"),a("07ac"),a("ac1f"),a("25f0"),a("2532"),a("5319"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),l=a("5530"),o=(a("ca00"),a("1146")),r=a.n(o),c=a("c1df"),u=a.n(c),d=a("85fe"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{visible:e.visible,title:"数据导入错误信息",width:"800px",destroyOnClose:"",maskClosable:!1,centered:!0,footer:null},on:{cancel:function(t){return e.$emit("cancel")},ok:function(t){return e.$emit("cancel")}}},[a("a-table",{attrs:{columns:e.errorTableColumnList,"data-source":e.errorTableDataList},scopedSlots:e._u([{key:"cardID",fn:function(t,i){return a("span",{},[e._v(e._s(e._f("cardIDShade")(i.cardID)))])}}])})],1)},f=[],h={name:"",props:{errorTableColumnList:{type:Array,default:function(){return[{title:"公民身份号码",dataIndex:"cardID",align:"center",width:"200px",scopedSlots:{customRender:"cardID"}},{title:"错误信息",dataIndex:"unSuccessInfo",width:"200px",align:"center"}]}},errorTableDataList:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!1}},methods:{}},m=h,b=a("2877"),v=Object(b["a"])(m,p,f,!1,null,"3b07395b",null),g=v.exports,x=a("946f"),y=a("81b6"),w=a("825b"),S=a("e56e"),D=a("794e"),k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("print",{attrs:{printing:e.postConsentRecordPrinting}},[[a("div",[a("span",[e._v("单据编号："+e._s(e.printData.serialNumber1))]),a("div",{staticStyle:{margin:"0px",width:"50px",float:"right"}},[a("img",{staticStyle:{width:"100%"},attrs:{src:e._f("creatQrCode")(e.printData.serialNumber1)}})])]),a("div",{staticStyle:{"text-align":"center",margin:"0px 20px auto"}},[a("h1",{staticStyle:{"font-weight":"700"}},[e._v("关于同意"+e._s(e.printData.surname+e.printData.name))]),a("h1",{staticStyle:{"font-weight":"700"}},[e._v("申办出入境证件的函")]),a("h2",[e._v("编号："+e._s(e.printData.orderNo))]),a("p",{staticStyle:{"text-align":"left"}},[a("span",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(e.printData.unitName)+"：")])]),a("p",{staticStyle:{"text-align":"left","text-indent":"2em","line-height":"30px"}},[e._v(" "+e._s(e.printData.surname+e.printData.name)+"同志（公民身份号码："+e._s(e.printData.cardID)+"）系 "),a("span",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(e.printData.workUnit))]),e._v(" （单位全称）的 "),a("span",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(e.printData.professionalPost))]),e._v("（职务）。按照干部管理权限，我单位同意该人申办。 ")]),a("div",{staticStyle:{"text-align":"left",margin:"0px 20px auto"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.printData.passHas,expression:"printData.passHas!='0'"}]},[e._v(e._s(e.printData.surname+e.printData.name)+e._s(e._f("passOptions")(e.printData.passOption))+e._s("1"==e.printData.passHas?"普通护照":"")+"。")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.printData.hkHas,expression:"printData.hkHas!='0'"}]},[e._v(e._s(e.printData.surname+e.printData.name)+e._s(e._f("passOptions")(e.printData.hkOption))+e._s("1"==e.printData.hkHas?"往来港澳通行证和签注":"")+"，签注种类为"+e._s(e._f("endorsementOptions")(e.printData.hkType))+"，往来香港签注时间为"+e._s(e._f("timeOptions")(e.printData.hkTime))+"，往来澳门签注时间为"+e._s(e._f("timeOptions")(e.printData.macaoTime))+"。")]),a("p",{directives:[{name:"show",rawName:"v-show",value:"0"!=e.printData.taiwanHas,expression:"printData.taiwanHas!='0'"}]},[e._v(e._s(e.printData.surname+e.printData.name)+e._s(e._f("passOptions")(e.printData.taiwanOption))+e._s("1"==e.printData.taiwanHas?"往来台湾通行证和签注":"")+"，签注种类为"+e._s(e._f("endorsementOptions")(e.printData.taiwanType))+"，往来台湾时间为"+e._s(e._f("timeOptions")(e.printData.taiwanEndorsementTime))+"。")])]),a("div",{staticStyle:{"text-align":"left","margin-top":"50px"}},[a("p",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{flex:"1","text-align":"right"}},[e._v("组织、人事部门联系人姓名：")]),a("span",{staticStyle:{flex:"2"}},[e._v(e._s(e.printData.jobContact))])]),a("p",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{flex:"1","text-align":"right"}},[e._v("联系电话：")]),a("span",{staticStyle:{flex:"2"}},[e._v(e._s(e.printData.jobPhoneNumber))])])]),a("div",{staticStyle:{"text-align":"left","margin-top":"50px"}},[a("p",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{flex:"1","text-align":"left"}},[e._v("负责人签名：")]),a("span",{staticStyle:{flex:"1"}},[e._v("公章：")])]),a("p",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{flex:"1","text-align":"left"}}),a("span",{staticStyle:{flex:"1"}},[e._v(" 日期： "),a("span",{staticStyle:{"margin-left":"50px"}},[e._v("年")]),a("span",{staticStyle:{"margin-left":"50px"}},[e._v("月")]),a("span",{staticStyle:{"margin-left":"50px"}},[e._v("日")])])])]),a("div",{staticStyle:{"text-align":"left"}},[a("p",[a("span",[e._v("备注：")]),e._v("1、登记备案国家工作人员申请出入境证件须提交此函，如有涂改，本函无效。 ")]),a("p",{staticStyle:{"text-indent":"3em"}},[e._v("2、本函自开具之日3个月内有效。")]),a("p",{staticStyle:{"text-indent":"3em"}},[e._v("签注。特别说明：")]),a("p",{staticStyle:{width:"92%","border-bottom":"1px solid #000",margin:"40px 0px 0px 45px"}}),a("p",{staticStyle:{"text-indent":"3em"}},[e._v("（请文字说明并加盖公章）")])])])]],2)},F=[],_=a("35db"),T=a("de85"),O=a("e0d33"),C=a.n(O),E={props:{printData:{type:Object},reload:{type:Function}},filters:{passOptions:function(e){return e?T["a"][e].label:"请选择"},certificateType:function(e){var t={1:{label:"普通护照"},2:{label:"往来港澳通行证和签注"},3:{label:"往来台湾通行证和签注"}};return e?t[e].label:"请选择"},endorsementOptions:function(e){var t={1:{label:"团队旅游"},2:{label:"个人旅游"},3:{label:"商务"},4:{label:"探亲"},5:{label:"逗留"},6:{label:"其他"}};return e?t[e].label:"请选择"},TaiwanEndorsementOptions:function(e){var t={1:{label:"团队旅游"},2:{label:"个人旅游"},3:{label:"商务"},4:{label:"探亲"},5:{label:"应邀"},6:{label:"定居"},7:{label:"学习"},8:{label:"乘务"},9:{label:"其他"}};return e?t[e].label:"请选择"},timeOptions:function(e){var t={1:{label:"3个月一次"},2:{label:"3个月二次"},3:{label:"3个月多次"},4:{label:"1年一次"},5:{label:"1年二次"},6:{label:"1年多次"},7:{label:"多次有效"},8:{label:"6个月一次"}};return e?t[e].label:"请选择"},creatQrCode:function(e){if(e){var t=2,a="L";C.a.stringToBytes=C.a.stringToBytesFuncs["UTF-8"];var i=C()(t,a);return i.addData(e,"Byte"),i.make(),i.createDataURL(2,0)}}},data:function(){return{}},computed:{},created:function(){},mounted:function(){},watch:{},methods:{postConsentRecordPrinting:function(){var e=this,t={orderNo:this.printData.orderNo};Object(D["g"])(t).then((function(t){e.reload()}))}},components:{print:_["a"]}},I=E,L=Object(b["a"])(I,k,F,!1,null,"751b9d36",null),P=L.exports,H=a("7b0a"),j=x["a"],N={},R={0:{text:"close"},1:{text:"check"}};function V(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var K={filters:{stepStateFilter:function(e){try{var t=Object.values(y["a"]).find((function(t){return t.values.some((function(t){return t===e}))})).current;return t||0}catch(a){return 0}},passportFilter:function(e){return R[e].text},consentLetterStateColorFilter:function(e){return Object.values(j).find((function(t){return t.value===e})).color},consentLetterStateTextFilter:function(e){return Object.values(j).find((function(t){return t.value===e})).text},applicationTypeFilter:function(e){return Object.values(w["a"]).find((function(t){return t.value===e})).text},professionalPostFilter:function(e){return e?N[e].text:""},passOptions:function(e){return e?T["a"][e].label:"请选择"},certificateType:function(e){var t={1:{label:"普通护照"},2:{label:"往来港澳通行证和签注"},3:{label:"往来台湾通行证和签注"}};return e?t[e].label:"请选择"},endorsementOptions:function(e){var t={1:{label:"团队旅游"},2:{label:"个人旅游"},3:{label:"商务"},4:{label:"探亲"},5:{label:"逗留"},6:{label:"其他"}};return e?t[e].label:"请选择"},TaiwanEndorsementOptions:function(e){var t={1:{label:"团队旅游"},2:{label:"个人旅游"},3:{label:"商务"},4:{label:"探亲"},5:{label:"应邀"},6:{label:"定居"},7:{label:"学习"},8:{label:"乘务"},9:{label:"其他"}};return e?t[e].label:"请选择"},timeOptions:function(e){var t={1:{label:"3个月一次"},2:{label:"3个月二次"},3:{label:"3个月多次"},4:{label:"1年一次"},5:{label:"1年二次"},6:{label:"1年多次"},7:{label:"多次有效"},8:{label:"6个月一次"}};return e?t[e].label:"请选择"}},data:function(){var e=this;return{defaultValue:[],HKDefaultValue:[],TaiwanDefaultValue:[],ordinaryPassportShow:!1,HKShow:!1,HKEndorsementShow:!1,TaiwanShow:!1,TaiwanEndorsementShow:!1,passOptions:[{value:0,label:"首次申领"},{value:1,label:"补发"},{value:2,label:"换发"},{value:3,label:"失效重新申领"}],endorsementOptions:[{value:0,label:"团队旅游",HKTimeOption:[{value:0,label:"3个月一次"},{value:1,label:"3个月二次"},{value:3,label:"1年一次"},{value:4,label:"1年二次"}],MacaoOption:[{value:0,label:"3个月一次"},{value:3,label:"1年一次"}]},{value:1,label:"个人旅游",HKTimeOption:[{value:0,label:"3个月一次"},{value:1,label:"3个月二次"},{value:3,label:"1年一次"},{value:4,label:"1年二次"},{value:5,label:"1年多次"}],MacaoOption:[{value:0,label:"3个月一次"},{value:3,label:"1年一次"}]},{value:2,label:"商务",HKTimeOption:[{value:0,label:"3个月一次"},{value:2,label:"3个月多次"},{value:5,label:"1年多次"}],MacaoOption:[{value:0,label:"3个月一次"},{value:2,label:"3个月多次"},{value:5,label:"1年多次"}]},{value:3,label:"探亲",HKTimeOption:[{value:0,label:"3个月一次"},{value:2,label:"3个月多次"},{value:5,label:"1年多次"}],MacaoOption:[{value:0,label:"3个月一次"},{value:2,label:"3个月多次"},{value:5,label:"1年多次"}]},{value:4,label:"逗留",HKTimeOption:[{value:6,label:"多次有效"}],MacaoOption:[{value:6,label:"多次有效"}]},{value:5,label:"其他",HKTimeOption:[{value:0,label:"3个月一次"},{value:1,label:"3个月二次"},{value:2,label:"3个月多次"}],MacaoOption:[{value:0,label:"3个月一次"},{value:1,label:"3个月二次"},{value:2,label:"3个月多次"}]}],KEndorsementIndex:0,TaiwanEndorsementOptions:[{value:0,label:"团队旅游"},{value:1,label:"个人旅游"},{value:2,label:"商务"},{value:3,label:"探亲"},{value:4,label:"应邀"},{value:5,label:"定居"},{value:6,label:"学习"},{value:7,label:"乘务"},{value:8,label:"其他"}],TaiwanTimeShow:!0,certificateData:[],tableColumns:[{title:"单据编号",dataIndex:"orderNo",width:"200px",align:"center"},{title:"姓名",dataIndex:"name",width:"200px",align:"center",scopedSlots:{customRender:"name"}},{title:"公民身份号码",dataIndex:"cardID",width:"200px",align:"center",scopedSlots:{customRender:"cardID"}},{title:"工作单位",dataIndex:"workUnit",width:"200px",align:"center"},{title:"职务/职级",dataIndex:"professionalPost",width:"200px",align:"center",scopedSlots:{customRender:"professionalPost"}},{title:"状态",dataIndex:"state",width:"200px",align:"center",scopedSlots:{customRender:"state"}},{title:"操作",dataIndex:"operate",align:"center",width:"200px",scopedSlots:{customRender:"operate"}}],consentLetterStateList:Object(l["a"])({},x["a"]),query:{},tableDataList:[],stepStateList:y["a"],detailsStatusDialogVisible:!1,detailsForm:{passHas:0,hkHas:0,taiwanHas:0},jobList:[],formCheck:{},showpersonModal:!1,formRules:{surname:[{required:!0,message:"请填写姓",trigger:"blur"}],name:[{required:!0,message:"请填写名",trigger:"blur"}],cardID:[{required:!0,message:"请填写公民身份号码",trigger:"blur"}],myPhone:[{required:!0,message:"请填写手机号",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],workUnit:[{required:!0,message:"请填写工作单位",trigger:"blur"}],professionalPost:[{required:!0,message:"请输入单位职务",trigger:"blur"}],contactPerson:[{required:!0,message:"请输入人事部门联系人",trigger:"blur"},H["e"]],contactPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},H["a"]],applicationType:[{required:!0,message:"请选择办理类型",trigger:"change"}],certificate:[{type:"array",required:!0,message:"请选择办理证件",trigger:"blur"}]},applicationTypeList:w["a"],pagination:{current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showTotal:function(t){return"共 ".concat(t," 条记录 第").concat(e.pagination.current,"/").concat(Math.ceil(t/e.pagination.pageSize),"页")},onChange:function(t,a){e.pagination.current=t},onShowSizeChange:function(t,a){e.pagination.pageSize=a}},customRow:function(t){return{props:{},on:{click:function(a){e.formCheck=t},dblclick:function(e){},contextmenu:function(e){},mouseenter:function(e){},mouseleave:function(e){}}}},credentialsCheckboxOptions:[{value:"0",label:"普通护照"},{value:"1",label:"往来港澳通行证及签注"},{value:"2",label:"往来台湾通行证及签注"}],disabled:!0,printData:{},detailsLoading:!1,downloading:!1,excelData:{},excelUploading:!1,errorDetailsDialogVisible:!1,errorTableColumnList:[{title:"公民身份号码",dataIndex:"cardID",align:"center",width:"200px",scopedSlots:{customRender:"cardID"}},{title:"错误信息",dataIndex:"unSuccessInfo",width:"200px",align:"center"}],errorTableDataList:[],excelColumns:[{header:"公民身份号码（必填）",key:"cardID",width:20,style:{numFmt:"@"}},{header:"办理类型（必填）",key:"nativePlace",width:20},{header:"人事部门联系人（必填）",key:"surname",width:20,style:{numFmt:null}},{header:"联系电话（必填）",key:"name",width:20},{header:"普通护照（必填）",key:"passport",width:20},{header:"往来港澳通行证及香港签注（必填）",key:"exitEntryPermitForHKMacao",width:30},{header:"往来港澳通行证及澳门签注（必填）",key:"exitEntryPermitForHKMacao",width:30},{header:"往来台湾通行证及签注（必填）",key:"exitEntryPermitForTW",width:30}],electronicFileStatusDialogVisible:!1,electronicFileForm:{},imageUrl:"",electronicFileLoading:!1,form:{}}},components:{personModal:d["a"],ConsentLetter:P,errorDetailsModal:g},created:function(){delete this.consentLetterStateList.PACKED,this.getDictionaryProfessionalJob()},computed:{},methods:{tableChange:function(e,t,a){var i=Object(l["a"])({},this.pagination);i.current=e.current,this.pagination=i,this.getConsentRecordList()},dateChange:function(e,t){this.query.beginTime=e[0]?e[0].startOf("day").valueOf():"",this.query.endTime=e[1]?e[1].endOf("day").valueOf():"",this.searchClick()},disabledDate:function(e){return e&&e>u()().endOf("day")},handleCancel:function(){this.detailsStatusDialogVisible=!1},handleOk:function(){this.detailsStatusDialogVisible=!1},personhandleOk:function(e){this.detailsForm=Object(l["a"])(Object(l["a"])(Object(l["a"])({},this.detailsForm),e),{},{state:this.detailsForm.state,myPhone:e.mobilePhone,personID:e.id}),this.showpersonModal=!1},personcancel:function(){this.showpersonModal=!1},getConsentRecordList:function(){var e=this,t=Object(l["a"])({pageNo:this.pagination.current,pageSize:this.pagination.pageSize,direction:"1"},this.query);Object(D["c"])(t).then((function(t){var a=t.data;e.pagination.total=a.total,e.tableDataList=a.list&&a.list.length?a.list:[],setTimeout((function(){var t=e.tableDataList.findIndex((function(t){return t.orderNo==e.formCheck.orderNo}));e.formCheck=-1!==t?e.tableDataList[t]:{}}),0)}))},getDictionaryProfessionalJob:function(){var e=this;Object(S["c"])().then((function(t){var a=t.data;if(e.jobList=a.list&&a.list.length?a.list:[],N={},a.list&&a.list.length)for(var i=0;i<a.list.length;i++){var n=a.list[i];N[n.value]={text:n.label}}e.getConsentRecordList()}))},postConsentRecordInfo:function(){var e=this,t=Object(l["a"])({},this.detailsForm);Object(D["e"])(t).then((function(t){t.data;e.searchClick(),e.detailsStatusDialogVisible=!1,e.$message.success("新增成功"),e.detailsForm={}})).finally((function(){e.detailsLoading=!1}))},putConsentRecordInfo:function(){var e=this,t=Object(l["a"])({},this.detailsForm);Object(D["j"])(t).then((function(t){t.data;e.getConsentRecordList(),e.detailsStatusDialogVisible=!1,e.$message.success("修改成功"),e.detailsForm={}})).finally((function(){e.detailsLoading=!1}))},deleteConsentRecordInfo:function(){var e=this,t={orderNo:this.detailsForm.orderNo};Object(D["a"])(t).then((function(t){t.data;e.getConsentRecordList(),e.detailsStatusDialogVisible=!1,e.$message.success("作废成功"),e.detailsForm={}})).finally((function(){e.detailsLoading=!1}))},getConsentElectronicInfo:function(){var e=this,t={orderNo:this.electronicFileForm.orderNo};Object(D["b"])(t).then((function(t){var a=t.data;e.electronicFileForm=Object(l["a"])(Object(l["a"])({},a),e.electronicFileForm),e.electronicFileForm.image=e.electronicFileForm.image&&e.electronicFileForm.state!==x["a"].PRINTED.value?e.$store.state.app.picturePrefixAddress+e.electronicFileForm.image:"",e.electronicFileStatusDialogVisible=!0}))},putConsentElectronicInfo:function(){var e=this,t={orderNo:this.electronicFileForm.orderNo,image:this.electronicFileForm.image.replace(/^data:application\/pdf;base64,/,"")};Object(D["i"])(t).then((function(t){t.data;e.$message.success("保存成功"),e.searchClick(),e.electronicFileStatusDialogVisible=!1}))},postConsentSubmitList:function(e){var t=this;Object(D["h"])(e).then((function(e){e.data;t.$message.success("提交成功"),t.searchClick()}))},handleClose:function(){this.detailsStatusDialogVisible=!1,this.disabled=!1,this.defaultValue=[],this.HKDefaultValue=[],this.TaiwanDefaultValue=[],this.ordinaryPassportShow=!1,this.HKEndorsementShow=!1,this.TaiwanEndorsementShow=!1,this.HKShow=!1,this.TaiwanShow=!1},newModal:function(){this.detailsForm={},this.disabled=!1,this.detailsStatusDialogVisible=!0,this.defaultValue=[],this.HKDefaultValue=[],this.TaiwanDefaultValue=[],this.ordinaryPassportShow=!1,this.HKEndorsementShow=!1,this.TaiwanEndorsementShow=!1,this.HKShow=!1,this.TaiwanShow=!1},showModalClick:function(e){this.detailsForm=e.state?Object(l["a"])({},e):{state:""},this.form=Object(l["a"])({},e),1==e.passHas&&(this.defaultValue.push("0"),this.ordinaryPassportShow=!0),1==e.hkHas&&(this.defaultValue.push("1"),this.HKShow=!0,null!=e.hkType&&(this.HKDefaultValue.push("0"),this.HKEndorsementShow=!0)),1==e.taiwanHas&&(this.defaultValue.push("2"),this.TaiwanShow=!0,null!=e.taiwanType&&(this.TaiwanDefaultValue.push("0"),this.TaiwanEndorsementShow=!0)),this.disabled=!0,this.detailsStatusDialogVisible=!0},certificateCheckboxChange:function(e){if(e.includes("0")){this.ordinaryPassportShow=!0;var t=!1;this.certificateData.forEach((function(e){1==e.certificateType&&(t=!0)})),t||this.certificateData.push({certificateType:1,passHas:1,passOption:"",hkHas:0,hkOption:"",hkIsEndorsement:"",hkType:"",hkTime:"",macaoTime:"",taiwanHas:"",taiwanOption:"",taiwanType:"",taiwanEndorsementTime:""})}else this.ordinaryPassportShow=!1;if(e.includes("1")){this.HKShow=!0;var a=!1;this.certificateData.forEach((function(e){2==e.certificateType&&(a=!0)})),a||this.certificateData.push({certificateType:2,hkHas:1,passHas:"",passOption:"",hkOption:"",hkIsEndorsement:"",hkType:"",hkTime:"",macaoTime:"",taiwanHas:"",taiwanOption:"",taiwanType:"",taiwanEndorsementTime:""})}else this.HKShow=!1;if(e.includes("2")){this.TaiwanShow=!0;var i=!1;this.certificateData.forEach((function(e){3==e.certificateType&&(i=!0)})),i||this.certificateData.push({certificateType:3,taiwanHas:1,hkHas:"",passHas:"",passOption:"",hkOption:"",hkIsEndorsement:"",hkType:"",hkTime:"",macaoTime:"",taiwanOption:"",taiwanType:"",taiwanEndorsementTime:""})}else this.TaiwanShow=!1},handleChangeOrdinaryPassport:function(e){this.certificateData.forEach((function(t){"1"==t.certificateType&&(t.passOption=e+1)}))},handleChangeHK:function(e){this.certificateData.forEach((function(t){"2"==t.certificateType&&(t.hkOption=e+1)}))},handleChangeTaiwan:function(e){this.certificateData.forEach((function(t){"3"==t.certificateType&&(t.taiwanOption=e+1)}))},handleChangeEndorsement:function(e){e.some((function(e){return""!=e}))?this.HKEndorsementShow=!0:this.HKEndorsementShow=!1,this.certificateData.forEach((function(e){"2"==e.certificateType&&(e.isEndorsement=!0)}))},handleChangeHKEndorsement:function(e){this.KEndorsementIndex=e,this.certificateData.forEach((function(t){"2"==t.certificateType&&(t.hkType=e+1)}))},handleChangeHKTime:function(e){this.certificateData.forEach((function(t){"2"==t.certificateType&&(t.hkTime=e+1)}))},handleChangeMacaoTime:function(e){this.certificateData.forEach((function(t){"2"==t.certificateType&&(t.macaoTime=e+1)}))},handleChangeTaiwanEndorsement:function(e){e.some((function(e){return""!=e}))?this.TaiwanEndorsementShow=!0:this.TaiwanEndorsementShow=!1,this.certificateData.forEach((function(e){"3"==e.certificateType&&(e.isEndorsement=!0)}))},handleChangeTaiwanOption:function(e){this.TaiwanTimeShow=0==e||2==e||3==e||4==e,this.certificateData.forEach((function(t){"3"==t.certificateType&&(t.taiwanType=e+1)}))},handleChangeTaiwanTime:function(e){this.certificateData.forEach((function(t){"3"==t.certificateType&&(t.taiwanEndorsementTime=e+1)}))},searchClick:function(){this.pagination.current=1,this.getConsentRecordList()},saveClick:function(){var e=this,t={taiwanHas:this.certificateData[2]?this.certificateData[2].taiwanHas.toString():"0",hkHas:this.certificateData[1]?this.certificateData[1].hkHas.toString():"0",passHas:this.certificateData[0]?this.certificateData[0].passHas.toString():"0",passOption:this.certificateData[0]?this.certificateData[0].passOption.toString():"",hkOption:this.certificateData[1]?this.certificateData[1].hkOption.toString():"",hkType:this.certificateData[1]?this.certificateData[1].hkType.toString():"",hkTime:this.certificateData[1]?this.certificateData[1].hkTime.toString():"",macaoTime:this.certificateData[1]?this.certificateData[1].macaoTime.toString():"",taiwanOption:this.certificateData[2]?this.certificateData[2].taiwanOption.toString():"",taiwanType:this.certificateData[2]?this.certificateData[2].taiwanType.toString():"",taiwanEndorsementTime:this.certificateData[2]?this.certificateData[2].taiwanEndorsementTime.toString():""};Object.assign(this.detailsForm,t),this.detailsLoading=!0,this.$refs.ruleForm.validate((function(t){if(!t)return e.detailsLoading=!1,!1;switch(e.detailsForm.state){case void 0:e.postConsentRecordInfo();break;case x["a"].ADD.value:case x["a"].EDITED.value:case x["a"].DISMISSED.value:e.putConsentRecordInfo();break;default:break}}))},deleteClick:function(){this.detailsLoading=!0,this.deleteConsentRecordInfo()},printClick:function(e){this.printData=Object(l["a"])(Object(l["a"])(Object(l["a"])({},e),this.$store.state.app.unitInfo),{},{professionalPost:N[e.professionalPost].text}),this.detailsStatusDialogVisible=!1,this.$store.commit("SET_PRINTSHOW",!0)},batchImportClick:function(){this.$refs["excel-upload-input"].click()},handleSuccess:function(){var e=this,t=this.excelData,a=t.results;t.header;Object(D["f"])({list:a}).then((function(t){var a=t.data,i=[];e.successCount=a.successCount,e.unSuccessCount=a.unSuccessCount;var n=a.unSuccessList?a.unSuccessList:[];n.forEach((function(e){i.push(e)})),a.successCount>"0"&&e.searchClick(),"0"==a.unSuccessCount?e.$message.success("导入成功"):(e.errorTableDataList=i,e.errorDetailsDialogVisible=!0)})).finally((function(){e.excelUploading=!1}))},generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.handleSuccess()},handleClick:function(){var e=this.$refs["excel-upload-input"].files[0];e.name.includes(".xlsx")||e.name.includes(".xls")?this.upload(e):this.$message.warning("请选择xlsx或xls文件")},beforeUpload:function(e){e.name;return!1},upload:function(e){this.readerData(e)},readerData:function(e){var t=this;this.excelUploading=!0;var a=new FileReader;a.onload=function(e){var a=e.target.result,i=r.a.read(a,{type:"array",dateNF:"yyyy-mm-dd"}),n=i.SheetNames[0],s=i.Sheets[n],l=t.getHeaderRow(s),o=t.getJsonData(s),c=o.filter((function(e){return!1===e.satify}));t.$refs["excel-upload-input"].value="",c.length>0?(t.errorTableDataList=c,t.errorDetailsDialogVisible=!0,t.excelUploading=!1):o.length>0?t.generateData({header:l,results:o}):(t.$message.warning("请选择有数据的excel"),t.excelUploading=!1)},a.readAsArrayBuffer(e)},getHeaderRow:function(e){var t,a=[],i=r.a.utils.decode_range(e["!ref"]),n=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var s=e[r.a.utils.encode_cell({c:t,r:n})],l="UNKNOWN "+t;s&&s.t&&(l=r.a.utils.format_cell(s)),a.push(l)}return this.excelData.header=a,a},getJsonData:function(e){for(var t=this,a=[],i=["cardID","applicationType","contactPerson","contactPhone","havePassport","haveHKPass","haveMOPass","haveTWPass"],n=[0,1,2,3,4,5,6,7],s=r.a.utils.decode_range(e["!ref"]),o={},c=function(c){for(var u={satify:!0,unSuccessInfo:""},d=function(a){var n=e[r.a.utils.encode_cell({c:a,r:c})];switch(u[i[a]]=r.a.utils.format_cell(n),i[a]){case"cardID":u[i[a]]=/^[1-9][0-9]{5}(19|20)[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|31)|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}([0-9]|x|X)$/.test(u[i[a]])?u[i[a]]:"",u[i[a]]&&o[u[i[a]]]&&(u.unSuccessInfo="重复的公民身份号码，"),o[u[i[a]]]=!0;break;case"applicationType":var s=Object.values(t.applicationTypeList).find((function(e){return u[i[a]]===e.text}));u[i[a]]=s?s.value:"";break;case"contactPerson":u[i[a]]=/^[\u4e00-\u9fa5]+$/.test(u[i[a]])?u[i[a]]:"";break;case"contactPhone":u[i[a]]=/^\d{1,4}-\d{1,8}$|^[1][3|4|5|6|7|8|9][0-9]{9}$/.test(u[i[a]])?u[i[a]]:"";break;case"havePassport":case"haveHKPass":case"haveMOPass":case"haveTWPass":u[i[a]]="办理"===u[i[a]]?"1":"不办理"===u[i[a]]?"0":"","haveTWPass"===i[a]&&"0"===u.havePassport&&"0"===u.haveHKPass&&"0"===u.haveMOPass&&"0"===u.haveTWPass&&(u.unSuccessInfo+="至少办理一个证件，");break;default:break}},p=s.s.c;p<=s.e.c;++p)d(p);u.unSuccessInfo&&(u.unSuccessInfo+="第".concat(c,"行以下列出现错误："),u.satify=!1);for(var f=0;f<n.length;f++){var h=n[f];if(!u[i[h]]){u.satify=!1,u.unSuccessInfo||(u.unSuccessInfo="第".concat(c,"行以下列出现错误："));try{if(t.excelData.header[h]!==t.excelColumns[h].header)throw!1;u.unSuccessInfo+="".concat(t.excelColumns[h].header.replace("（必填）",""),"，")}catch(b){u.unSuccessInfo="请使用正确的模板";break}}}u.unSuccessInfo.lastIndexOf("：")===u.unSuccessInfo.length-1&&(u.unSuccessInfo=u.unSuccessInfo.replace("，第".concat(c,"行以下列出现错误："),"")),u.unSuccessInfo.lastIndexOf("，")===u.unSuccessInfo.length-1&&(u.unSuccessInfo=u.unSuccessInfo.slice(0,u.unSuccessInfo.length-1));var m=Object(l["a"])({},u);delete m.unSuccessInfo,!m.satify&&Object.values(m).every((function(e){return 0==e}))||a.push(u)},u=s.s.r+1;u<=s.e.r;++u)c(u);return a},downloadImportTemplateClick:function(){var e=this;this.downloading=!0,a.e("chunk-06568fb8").then(a.bind(null,"176a")).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="同意函导入模板",t.next=3,a.export2Excel({columns:e.excelColumns,list:[{row:1,data:[18],operator:"equal",type:"textLength",showInputMessage:!0,promptTitle:"输入提示",prompt:"请输入18位公民身份号码"},{row:2,data:['"'.concat(Object.values(e.applicationTypeList).map((function(e){return e.text})).join(),'"')],column:"A",type:"list"},{row:3,data:[30],operator:"lessThanOrEqual",type:"textLength",showInputMessage:!0,promptTitle:"输入提示",prompt:"请输入中文"},{row:4,data:[5,13],type:"textLength",operator:"between",showInputMessage:!0,promptTitle:"输入提示",prompt:"请输入11位手机号或座机号"},{row:5,data:['"办理,不办理"'],type:"list"},{row:6,data:['"办理,不办理"'],type:"list"},{row:7,data:['"办理,不办理"'],type:"list"},{row:8,data:['"办理,不办理"'],type:"list"}],filename:i});case 3:e.downloading=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},electronicFileHandleOk:function(){this.electronicFileStatusDialogVisible=!1},electronicFileHandleChange:function(e){var t=this;"uploading"===e.file.status&&(this.electronicFileForm.image="",this.electronicFileLoading=!0,V(e.file.originFileObj,(function(e){t.electronicFileForm.image=e,t.electronicFileLoading=!1}))),"done"===e.file.status&&V(e.file.originFileObj,(function(e){t.imageUrl=e,t.electronicFileLoading=!1}))},electronicFileBeforeUpload:function(e){var t="application/pdf"===e.type;return t||this.$message.error("你只能上传PDF文件!"),t},electronicFileShowModal:function(e){this.electronicFileForm=Object(l["a"])({},e),this.electronicFileForm.certificate=[],"1"===this.electronicFileForm.havePassport&&this.electronicFileForm.certificate.push("0"),"1"===this.electronicFileForm.haveHKPass&&this.electronicFileForm.certificate.push("1"),"1"===this.electronicFileForm.haveMOPass&&this.electronicFileForm.certificate.push("2"),"1"===this.electronicFileForm.haveTWPass&&this.electronicFileForm.certificate.push("3"),this.getConsentElectronicInfo()},electronicFileSaveClick:function(){this.electronicFileForm.image?this.electronicFileForm.image.includes("data:application/pdf")?this.putConsentElectronicInfo():(this.$message.success("保存成功"),this.electronicFileStatusDialogVisible=!1):this.$message.warning("请选择文件")},electronicFileCloseModal:function(){this.electronicFileStatusDialogVisible=!1,this.electronicFileForm={}},reportClick:function(e){var t={orderNo:[e.orderNo]};this.postConsentSubmitList(t)}}},M=K,$=(a("b097"),Object(b["a"])(M,i,n,!1,null,null,null));t["default"]=$.exports},"794e":function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return r})),a.d(t,"h",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return f}));var i=a("b775");function n(e){return Object(i["b"])({url:"/consent/record/list",method:"get",params:e})}function s(e){return Object(i["b"])({url:"/consent/electronic/info",method:"get",params:e})}function l(e){return Object(i["b"])({url:"/consent/record/info",method:"post",data:e})}function o(e){return Object(i["b"])({url:"/consent/record/list",method:"post",data:e})}function r(e){return Object(i["b"])({url:"/consent/record/printing",method:"post",data:e})}function c(e){return Object(i["b"])({url:"/consent/submit/list",method:"post",data:e})}function u(e){return Object(i["b"])({url:"/consent/record/info",method:"put",data:e})}function d(e){return Object(i["b"])({url:"/consent/electronic/info",method:"put",data:e})}function p(e){return Object(i["b"])({url:"/consent/record/info",method:"delete",data:e})}var f=function(e){return Object(i["b"])({url:"/consent/record/info",method:"get",params:e})}},"81b6":function(e,t,a){"use strict";var i=a("946f");t["a"]={ADD:{current:1,values:[i["a"]["ADD"].value,i["a"]["EDITED"].value],title:"数据录入"},PRINTED:{current:2,values:[i["a"]["PRINTED"].value],title:"数据审批"},SUBMITTED:{current:4,values:[i["a"]["SUBMITTED"].value,i["a"]["DISMISSED"].value,i["a"]["SUCCESSFUL_FILING"].value],title:"数据提交"}}},"825b":function(e,t,a){"use strict";t["a"]={NEW_CERTIFICATE:{value:"1",text:"新证办理"},ENDORSEMENT:{value:"2",text:"签注办理"},REPLACEMENT_CERTIFICATE:{value:"3",text:"换证办理"}}},"85fe":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-modal",{attrs:{footer:null,width:"1000px"},on:{cancel:e.cancel},model:{value:e.isshow,callback:function(t){e.isshow=t},expression:"isshow"}},[a("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1}},[a("div",[a("a-form",{attrs:{layout:"horizontal"}},[a("div",{staticClass:"fold"},[a("a-row",[a("a-col",{attrs:{md:12,sm:24}},[a("a-form-item",{attrs:{labelCol:{span:6},wrapperCol:{span:16},label:"快速搜索"}},[a("a-input",{attrs:{placeholder:"请输入：姓名\\公民身份号码"},on:{blur:e.getList},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticStyle:{float:"right","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"},on:{click:e.getList}},[e._v("查询")])],1)])],1)],1)])],1),a("a-table",{attrs:{columns:e.columns,dataSource:e.dataSource,pagination:e.pagination},scopedSlots:e._u([{key:"allname",fn:function(t,i){return a("span",{},[e._v(e._s(i.surname)+e._s(i.name))])}},{key:"passport",fn:function(e){return a("span",{},[a("a-icon","0"!==e?{attrs:{type:"check"}}:{attrs:{type:"close"}})],1)}},{key:"professionalPost",fn:function(t,i){return a("span",{},[e._v(e._s(e._f("professFilter")(i.professionalPost)))])}},{key:"exitEntryPermitForHKMacao",fn:function(e){return a("span",{},[a("a-icon","0"!==e?{attrs:{type:"check"}}:{attrs:{type:"close"}})],1)}},{key:"exitEntryPermitForTW",fn:function(e){return a("span",{},[a("a-icon","0"!==e?{attrs:{type:"check"}}:{attrs:{type:"close"}})],1)}},{key:"action",fn:function(t,i){return a("span",{staticClass:"action"},[[a("a",{on:{click:function(t){return e.handleOk(i)}}},[e._v("确认")])]],2)}}])})],1)],1)],1)},n=[],s=(a("99af"),a("7db0"),a("a9e3"),a("07ac"),a("166e")),l=a("e56e"),o=(a("3022"),a("ca00"),[{title:"姓名",width:100,align:"center",dataIndex:"allname",scopedSlots:{customRender:"allname"}},{title:"公民身份号码",dataIndex:"cardID",width:150,align:"center",scopedSlots:{customRender:"cardID"}},{title:"工作单位",dataIndex:"workUnit",width:120,align:"center"},{title:"职务/职级",dataIndex:"professionalPost",width:100,align:"center",scopedSlots:{customRender:"professionalPost"}},{title:"性别",dataIndex:"sex",width:120,align:"center"},{title:"护照",dataIndex:"passport",width:100,align:"center",scopedSlots:{customRender:"passport"}},{title:"港澳通行证",dataIndex:"exitEntryPermitForHKMacao",width:150,align:"center",scopedSlots:{customRender:"exitEntryPermitForHKMacao"}},{title:"台湾通行证",dataIndex:"exitEntryPermitForTW",width:150,align:"center",scopedSlots:{customRender:"exitEntryPermitForTW"}},{title:"操作",dataIndex:"action",width:100,align:"center",scopedSlots:{customRender:"action"}}]),r=[],c={props:{showmodal:{type:Boolean,default:!1},type:{type:String,default:"已报备"}},data:function(){var e=this;return{columns:o,dataSource:[],selectValue:"",direction:"1",pagination:{pageNo:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showTotal:function(t){return"共 ".concat(t," 条记录 第").concat(e.pagination.pageNo,"/").concat(Math.ceil(t/e.pagination.pageSize),"页")},onChange:function(t,a){e.pagination.pageNo=t,e.getList()},onShowSizeChange:function(t,a){e.pagination.pageSize=a,e.getList()}}}},computed:{isshow:{get:function(){return this.getList(),this.showmodal},set:function(){}}},created:function(){var e=this;Object(l["c"])().then((function(t){r=t.data.list,e.getList()}))},filters:{professFilter:function(e){return Object.values(r).find((function(t){return t.value===e})).label}},methods:{getList:function(){var e=this,t={pageNo:this.pagination.pageNo,pageSize:this.pagination.pageSize,selectValue:this.selectValue,direction:this.direction,isInRegistries:"已报备"===this.type?"1":void 0,state:this.statevalue,isInWhite:"白名单"===this.type?"0":void 0};Object(s["h"])(t).then((function(t){e.dataSource=[],null!==t.data.list&&t.data.list.length>0?(e.dataSource=t.data.list,e.pagination.total=Number(t.data.total)):e.pagination.total=0}))},handleOk:function(e){this.selectValue="",this.$emit("handleOk",e)},cancel:function(){this.selectValue="",this.$emit("cancel")}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,"c77885e2",null);t["a"]=p.exports},b097:function(e,t,a){"use strict";var i=a("c805"),n=a.n(i);n.a},c805:function(e,t,a){},de85:function(e,t,a){"use strict";t["a"]={1:{label:"首次申领"},3:{label:"换发"},5:{label:"已有证件"}}}}]);