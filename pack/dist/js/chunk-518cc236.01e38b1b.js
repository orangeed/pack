(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-518cc236"],{"1b99":function(t,e,a){},"4dc0":function(t,e,a){"use strict";var i=a("1b99"),n=a.n(i);n.a},cb299:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header-wrapper"),a("a-card",{staticStyle:{"margin-top":"24px"}},[a("a-row",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("a-col",[a("span",[t._v("快速查询：")]),a("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备名称/设备序列号"},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1),a("a-col",[a("span",[t._v("状态：")]),a("a-select",{staticStyle:{width:"240px"},attrs:{allowClear:"",placeholder:"请选择状态"},on:{change:t.stateHandleChange},model:{value:t.stateType,callback:function(e){t.stateType=e},expression:"stateType"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("已启用")]),a("a-select-option",{attrs:{value:"2"}},[t._v("已停用")])],1)],1),a("a-col",[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"10px"},on:{click:t.reset}},[t._v("重置")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.post}},[t._v("+ 新建")])],1)],1),a("a-table",{staticStyle:{"margin-top":"24px"},attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination},scopedSlots:t._u([{key:"row",fn:function(e,i){return a("span",{},[t._v(t._s(i.row)+"X"+t._s(i.column))])}},{key:"state",fn:function(t,e){return a("span",{},[a("a-badge",{attrs:{color:"1"==e.state?"green":"red",text:"1"==e.state?"已启用":"已停用"}})],1)}},{key:"action",fn:function(e,i){return a("span",{},[a("a",{on:{click:function(e){return t.detail(i)}}},[t._v("详情")]),a("a",{staticStyle:{"margin-left":"10px"},on:{click:function(e){return t.put(i)}}},[t._v("修改")])])}}])})],1),a("a-modal",{attrs:{title:t.title,visible:t.visible,"confirm-loading":t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[a("div",{staticClass:"modalFrom"},[a("p",{staticClass:"modalFrom-item"},[a("span",{staticClass:"modalFrom-item-label"},[t._v("设备名称：")]),a("a-input",{staticClass:"modalFrom-item-input",attrs:{disabled:t.addEquipmen,placeholder:"请输入设备名称"},model:{value:t.modalFrom.equipmentName,callback:function(e){t.$set(t.modalFrom,"equipmentName",e)},expression:"modalFrom.equipmentName"}})],1),a("p",{staticClass:"modalFrom-item"},[a("span",{staticClass:"modalFrom-item-label"},[t._v("设备序列号：")]),a("a-input",{staticClass:"modalFrom-item-input",attrs:{disabled:t.addEquipmen,placeholder:"请输入设备序列号"},model:{value:t.modalFrom.equipmentNo,callback:function(e){t.$set(t.modalFrom,"equipmentNo",e)},expression:"modalFrom.equipmentNo"}})],1),t.addEquipmen?a("div",{staticClass:"row"},[a("div",{staticClass:"first"},[a("span",{staticClass:"span"},[t._v("行：")]),a("a-input",{staticClass:"input",attrs:{placeholder:"请输入行",disabled:t.addEquipmen},model:{value:t.modalFrom.row,callback:function(e){t.$set(t.modalFrom,"row",e)},expression:"modalFrom.row"}})],1),a("div",{staticClass:"second"},[a("span",{staticClass:"span"},[t._v("列：")]),a("a-input",{staticClass:"input",attrs:{placeholder:"请输入列",disabled:t.addEquipmen},model:{value:t.modalFrom.column,callback:function(e){t.$set(t.modalFrom,"column",e)},expression:"modalFrom.column"}})],1)]):t._e(),a("div",{staticClass:"modalFrom-item",staticStyle:{"margin-left":"-56px"}},[a("span",{staticClass:"modalFrom-item-label"},[t._v("状态：")]),a("div",{staticClass:"modalFrom-item-input"},[a("a-switch",{attrs:{"checked-children":"启用","un-checked-children":"停用",checked:"1"==t.modalFrom.state,disabled:t.isDetail},on:{change:t.handleChange}})],1)])])])],1)},n=[],s=(a("99af"),a("4160"),a("a9e3"),a("b64b"),a("159b"),a("5530")),o=a("b775"),l={equipmentList:function(t){return Object(o["b"])({url:"/equipment/list",method:"get",params:t})},getEquipmentList:function(t){return Object(o["b"])({url:"/virtual/base/cabinet",method:"get",params:t})},addEquipment:function(t){return Object(o["b"])({url:"/virtual/base/cabinet",method:"post",data:t})},putEquipment:function(t){return Object(o["b"])({url:"/virtual/base/cabinet",method:"put",data:t})}},c={props:{},data:function(){var t=this;return{selectValue:"",stateType:"",columns:[{title:"设备名称",key:"equipmentName",width:80,dataIndex:"equipmentName",align:"center"},{title:"设备序列号",key:"equipmentNo",width:115,dataIndex:"equipmentNo",align:"center"},{title:"设备型号",key:"equipmentModel",width:115,dataIndex:"equipmentModel",align:"center"},{title:"容量规格",dataIndex:"row",key:"row",width:70,align:"center",scopedSlots:{customRender:"row"}},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:90,align:"center"},{title:"更新时间",dataIndex:"updataTime",key:"updataTime",width:90,align:"center"},{title:"状态",dataIndex:"state",key:"state",width:70,align:"center",scopedSlots:{customRender:"state"}},{title:"操作",key:"action",width:90,scopedSlots:{customRender:"action"},align:"center"}],dataSource:[],pagination:{current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条记录 第").concat(t.pagination.current,"/").concat(Math.ceil(e/t.pagination.pageSize),"页")},onChange:function(e,a){t.pagination.current=e,t.getList()},onShowSizeChange:function(e,a){t.pagination.current=e,t.pagination.pageSize=a,t.getList()}},addEquipmen:!1,title:"新增设备",visible:!1,confirmLoading:!1,isDetail:!1,modalFrom:{equipmentName:"",equipmentNo:"",row:"",column:"",state:"1"}}},computed:{},created:function(){this.getList()},mounted:function(){},watch:{},methods:{stateHandleChange:function(t){this.stateType=t},getList:function(){var t=this,e={selectValue:this.selectValue,stateType:this.stateType,pageNo:this.pagination.current,pageSize:this.pagination.pageSize,direction:"1"};l.getEquipmentList(e).then((function(e){t.dataSource=e.data.data,t.pagination.total=Number(e.data.total)}))},search:function(){this.getList()},reset:function(){this.selectValue="",this.stateType="",this.getList()},post:function(){var t=this;this.visible=!0,this.title="新增设备",this.addEquipmen=!1,this.isDetail=!1,Object.keys(this.modalFrom).forEach((function(e){return t.modalFrom[e]=""})),this.modalFrom.state="1"},detail:function(t){this.visible=!0,this.title="设备详情",this.isDetail=!0,this.addEquipmen=!0,this.modalFrom=Object(s["a"])({},t)},put:function(t){this.visible=!0,this.title="修改设备",this.isDetail=!1,this.addEquipmen=!1,this.modalFrom=Object(s["a"])({},t)},handleOk:function(t){var e=this;switch(this.confirmLoading=!0,this.title){case"新增设备":l.addEquipment(this.modalFrom).then((function(t){e.getList()}));break;case"修改设备":l.putEquipment(this.modalFrom).then((function(t){0===t.errorCode&&e.getList()}));break;default:break}setTimeout((function(){e.visible=!1,e.confirmLoading=!1}),2e3)},handleCancel:function(t){this.visible=!1},handleChange:function(t){t=1==t?"1":"2",this.modalFrom.state=t}},components:{}},r=c,d=(a("4dc0"),a("2877")),u=Object(d["a"])(r,i,n,!1,null,"516f4b10",null);e["default"]=u.exports}}]);