(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75ac42d2"],{"17af":function(a,e,t){"use strict";var r=t("1e27"),n=t.n(r);n.a},"1e27":function(a,e,t){},b243:function(a,e,t){"use strict";var r=t("b775");e["a"]={warningInfo:function(a){return Object(r["b"])({url:"/violationWarningManagement/warningInfo",method:"get",params:a})},warningParams:function(a){return Object(r["b"])({url:"/violation/params",method:"get",params:a})},addWarningParams:function(a){return Object(r["b"])({url:"/violation/params",method:"post",data:a})},editWarningParams:function(a){return Object(r["b"])({url:"/violation/params",method:"put",data:a})},waringList:function(a){return Object(r["b"])({url:"/police/warning/list",method:"get",params:a})},appeal:function(a){return Object(r["b"])({url:"/police/warning/appeal",method:"post",data:a})}}},fcaa:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("page-header-wrapper"),t("a-card",{staticStyle:{"margin-top":"24px"}},[t("div",{staticClass:"serach"},[t("div",[t("span",[a._v("快速搜索：")]),t("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入规则名称"},on:{blur:function(e){return a.getList()}},model:{value:a.selectValue,callback:function(e){a.selectValue=e},expression:"selectValue"}})],1),t("div",{staticStyle:{"margin-left":"24px"}},[t("a-button",{on:{click:function(e){return a.search()}}},[a._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return a.reset()}}},[a._v("重置")]),t("a-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"primary"},on:{click:a.addparams}},[a._v("新增")])],1)]),t("a-table",{staticStyle:{"margin-top":"24px"},attrs:{columns:a.columns,dataSource:a.dataSource,pagination:a.pagination},scopedSlots:a._u([{key:"state",fn:function(e,r){return t("span",{},[t("a-badge",{attrs:{color:a._f("stateColorFilter")(e),text:a._f("stateFilter")(e)}})],1)}},{key:"action",fn:function(e,r){return t("span",{},[t("a",{staticStyle:{"margin-right":"10px"},on:{click:function(e){return a.detail(r)}}},[a._v("详细")]),"1"===r.enable?t("a",{on:{click:function(e){return a.stop(r)}}},[a._v("停用")]):t("a",{on:{click:function(e){return a.enable(r)}}},[a._v("启用")])])}}])})],1),t("a-modal",{attrs:{footer:null,width:500,title:"新增违规预警规则"},on:{cancel:function(e){return a.addFormDialogClose()}},model:{value:a.addParamsVisible,callback:function(e){a.addParamsVisible=e},expression:"addParamsVisible"}},[t("a-form-model",{ref:"addFormRef",attrs:{model:a.addFormRef,rules:a.addFormRules}},[t("a-form-model-item",{attrs:{prop:"paramsName",label:"规则定义"}},[t("a-input",{attrs:{placeholder:"一年一次",required:""},model:{value:a.addFormRef.paramsName,callback:function(e){a.$set(a.addFormRef,"paramsName",e)},expression:"addFormRef.paramsName"}})],1),t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("a-form-model-item",{attrs:{prop:"yearParams",label:"年定义"}},[t("a-input",{attrs:{placeholder:"请输入年定义",required:""},model:{value:a.addFormRef.yearParams,callback:function(e){a.$set(a.addFormRef,"yearParams",e)},expression:"addFormRef.yearParams"}})],1),t("a-form-model-item",{attrs:{prop:"numParams",label:"次数定义"}},[t("a-input",{attrs:{placeholder:"请输入次数定义",required:""},model:{value:a.addFormRef.numParams,callback:function(e){a.$set(a.addFormRef,"numParams",e)},expression:"addFormRef.numParams"}})],1)],1),t("a-form-model-item",{attrs:{label:"是否启用"}},[t("a-radio-group",{staticStyle:{display:"flex","padding-left":"-15px"},model:{value:a.addFormRef.enable,callback:function(e){a.$set(a.addFormRef,"enable",e)},expression:"addFormRef.enable"}},[t("a-radio",{attrs:{value:"1"}},[a._v("启用")]),t("a-radio",{attrs:{value:"0"}},[a._v("停用")])],1)],1),t("a-form-model-item",{attrs:{prop:"remark",label:"说明"}},[t("a-input",{staticStyle:{height:"60px"},attrs:{placeholder:"请输入说明",required:""},model:{value:a.addFormRef.remark,callback:function(e){a.$set(a.addFormRef,"remark",e)},expression:"addFormRef.remark"}})],1),t("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-around"}},[t("a-button",{attrs:{type:"primary"},on:{click:function(e){return a.add()}}},[a.isadd?t("span",[a._v("新增")]):t("span",[a._v("保存")])]),t("a-button",{attrs:{type:"primary"},on:{click:function(e){return a.addFormDialogClose()}}},[a._v("返回")])],1)],1)],1)],1)},n=[],i=(t("99af"),t("ac1f"),t("841c"),t("5530")),s=t("b243"),o=t("7b0a"),d=[{title:"规则名称",key:"paramsName",width:100,dataIndex:"paramsName",align:"center"},{title:"年定义",key:"yearParams",width:100,dataIndex:"yearParams",align:"center"},{title:"次数定义",dataIndex:"numParams",key:"numParams",width:100,align:"center"},{title:"状态",dataIndex:"enable",key:"state",width:100,scopedSlots:{customRender:"state"},align:"center"},{title:"制定日期",dataIndex:"createTime",key:"createTime",width:110,align:"center"},{title:"启用时间",dataIndex:"enableTime",key:"enableTime",width:100,align:"center"},{title:"说明",dataIndex:"remark",key:"remark",width:200,align:"center"},{title:"操作",key:"action",width:100,scopedSlots:{customRender:"action"},align:"center"}],l=[],m={0:"未启用",1:"已启用"},c={0:"red",1:"green"},u={name:"warningParameter",data:function(){var a=this;return{columns:d,dataSource:l,pagination:{current:1,pageSize:10,total:0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0,showTotal:function(e){return"共 ".concat(e," 条记录 第").concat(a.pagination.current,"/").concat(Math.ceil(e/a.pagination.pageSize),"页")},onChange:function(e,t){a.pagination.current=e,a.getList()},onShowSizeChange:function(e,t){a.pagination.current=e,a.pagination.pageSize=t,a.getList()}},addParamsVisible:!1,selectedRuleInfo:{},selectValue:"",total:"0",newFormNum:"0",printNum:"0",addFormRef:{paramsName:"",yearParams:"",numParams:"",enable:"1",remark:""},addFormRules:{paramsName:[{required:!0,message:"请输入规则定义",trigger:"blur"}],yearParams:[{required:!0,message:"请输入年定义",trigger:"blur"},o["f"]],numParams:[{required:!0,message:"请输入定义次数",trigger:"blur"},o["f"]],remark:[{required:!0,message:"请输入说明",trigger:"blur"}]},isadd:!1}},filters:{stateFilter:function(a){return m[a]},stateColorFilter:function(a){return c[a]}},created:function(){this.getList()},methods:{search:function(){this.getList()},reset:function(){this.selectValue=void 0,this.search()},getList:function(){var a=this;s["a"].warningParams({selectValue:this.selectValue,pageNo:this.pagination.current,pageSize:this.pagination.pageSize,direction:"1"}).then((function(e){0==e.errorCode&&(a.total=e.data.total,a.newFormNum=e.data.newFormNum,a.printNum=e.data.printNum,a.dataSource=e.data.data)}))},addparams:function(){this.addFormRef={},this.addParamsVisible=!0,this.isadd=!0},add:function(){var a=this;this.$refs.addFormRef.validate((function(e){if(!e)return a.$message.error("请正确输入必要的信息！");a.isadd?a.addWarningParams(a.addFormRef):s["a"].editWarningParams(Object(i["a"])({},a.addFormRef)).then((function(e){a.$message.success("变更成功"),a.addParamsVisible=!1,a.getList()}))}))},addWarningParams:function(a){var e=this;s["a"].addWarningParams(Object(i["a"])({},a)).then((function(a){e.addParamsVisible=!1,e.$message.success("新增成功"),e.getList()}))},detail:function(a){this.isadd=!1,this.addFormRef=Object(i["a"])({},a),this.addParamsVisible=!0},enable:function(a){var e=this;s["a"].editWarningParams({id:a.id,paramsName:a.paramsName,yearParams:a.yearParams,numParams:a.numParams,remark:a.remark,enable:"1"}).then((function(a){0==a.errorCode&&(e.$message.success("启用成功"),e.getList())}))},stop:function(a){var e=this;s["a"].editWarningParams({id:a.id,paramsName:a.paramsName,yearParams:a.yearParams,numParams:a.numParams,remark:a.remark,enable:"0"}).then((function(a){0==a.errorCode&&(e.$message.success("停用成功"),e.getList())}))},addFormDialogClose:function(){this.addParamsVisible=!1,this.$refs.addFormRef.resetFields()}}},p=u,f=(t("17af"),t("2877")),g=Object(f["a"])(p,r,n,!1,null,"7051c478",null);e["default"]=g.exports}}]);